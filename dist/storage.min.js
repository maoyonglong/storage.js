(function(a){var d;if(typeof define==="function"&&define.amd){define(a);d=true}if(typeof exports==="object"){module.exports=a();d=true}if(!d){var c=window.storage;var b=window.storage=a();b.noConflict=function(){window.storage=c;return b}}})(function(){var c={};var a=window.localStorage;var b=window.sessionStorage;var e=window.localStorage.__proto__;c.setItem=function(h,m,g){var h=encodeURIComponent(h);var m=encodeURIComponent(m);var j=document.cookie;var l=[];for(var i in g){l.push(i+"="+g[i])}var k=l.join(";");if(!j){document.cookie=h+"="+m+";"+k}else{document.cookie=h+"="+m+";"+j+";"+k}};c.getItem=function(l){var m=document.cookie?document.cookie.split(";"):[];for(var k=0,g=m.length;k<g;k++){var j=m[k];var n=j.split("=");var h=encodeURIComponent(l);if(n[0]===h){return decodeURIComponent(n[1])}}return null};c.removeItem=function(g){var h=new RegExp(encodeURIComponent(g)+"=.*?;");document.cookie.replace(h,"")};c.all=function(){var l=document.cookie?document.cookie.split(";"):[];var h={};for(var k=0,g=l.length;k<g;k++){var m=l[k].split("=");var j=decodeURIComponent(m[0]);var n=decodeURIComponent(m[1]);h[j]=n}return h};e.all=function(){var g={};for(var h in this){if(this.hasOwnProperty(h)&&typeof this[h]!=="function"&&h!=="length"){g[h]=this[h]}}return g};c.clear=function(){document.cookie=""};function f(g){if(this.constructor===f){throw"Error: storage is not a constructor."}if(!g){throw"Error: Please specify the type of storage when initialize storage Object."}switch(g){case"cookie":return c;case"localStorage":return a;case"sessionStorage":return b;default:return null}}c.__proto__=e.__proto__=f.prototype;var d={set:"setItem",get:"getItem",remove:"removeItem"};for(commonName in d){(function(g){f.prototype[commonName]=function(){return this[g].apply(this,arguments)}})(d[commonName])}f.prototype.extend=function(g,h){if(this[g]!==undefined){throw"can't override existed property."}else{this[g]=h}};f.prototype.override=function(g,h){this[g]=h};return f});